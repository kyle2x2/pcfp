<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Schedule - PCFP v1.5</title>
<link rel="stylesheet" href="../../core/theme.css?v=20250101130300">
<link rel="stylesheet" href="module.css?v=20250101130300">
<link rel="stylesheet" href="https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.css">
</head>
<body>
<header class="module-header">
  <div class="module-toolbar">
    <button class="btn" id="btnSave" title="Save data">Save</button>
    <button class="btn" id="btnExport" title="Export data">Export</button>
  </div>
</header>

<div class="module-container">
  <div class="module-content">
          <div class="schedule-container">
        <div class="schedule-header">
          <div class="view-selector">
            <button class="btn active" data-view="list">List</button>
            <button class="btn" data-view="calendar">Calendar</button>
            <button class="btn" data-view="kanban">Kanban</button>
            <button class="btn" data-view="gantt">Gantt</button>
          </div>
          
          <!-- REMOVED: time-scale-selector (Day, Week, Month, Quarter, Year buttons) -->
          
          <div class="schedule-actions">
            <button class="btn btn-primary" id="btnAddTask">+ Add Task</button>
          </div>
        </div>
        
        <div class="schedule-content">
          <div id="listView" class="view-content active">
            <div class="grid-container">
              <div class="data-grid">
              <div class="grid-header">
                <div class="grid-cell" data-col="title" data-col-index="0">
                  <span class="col-title">Task</span>
                </div>
                <div class="grid-cell" data-col="assignee" data-col-index="1">
                  <span class="col-title">Assignee</span>
                </div>
                <div class="grid-cell" data-col="startDate" data-col-index="2">
                  <span class="col-title">Start Date</span>
                </div>
                <div class="grid-cell" data-col="duration" data-col-index="3">
                  <span class="col-title">Duration</span>
                </div>
                <div class="grid-cell" data-col="endDate" data-col-index="4">
                  <span class="col-title">End Date</span>
                </div>
                <div class="grid-cell" data-col="status" data-col-index="5">
                  <span class="col-title">Status</span>
                </div>
                <div class="grid-cell" data-col="progress" data-col-index="6">
                  <span class="col-title">Progress</span>
                </div>
                <div class="grid-cell" data-col="priority" data-col-index="7">
                  <span class="col-title">Priority</span>
                </div>
                <div class="grid-cell" data-col="phase" data-col-index="8">
                  <span class="col-title">Phase</span>
                </div>
                <div class="grid-cell" data-col="actions" data-col-index="9">
                  <span class="col-title">Actions</span>
                </div>
              </div>
              <div class="grid-body" id="taskGridBody">
                <!-- Tasks will be populated here -->
              </div>
            </div>
          </div>
          </div>
          
          <div id="calendarView" class="view-content">
            <div class="calendar-container">
              <!-- Calendar Header with Navigation -->
              <div class="calendar-header">
                <div class="calendar-nav">
                  <button class="calendar-nav-btn" id="btnPrevMonth">‹</button>
                  <button class="calendar-nav-btn active" data-calendar-view="month">Month</button>
                  <button class="calendar-nav-btn" data-calendar-view="week">Week</button>
                  <button class="calendar-nav-btn" data-calendar-view="day">Day</button>
                  <button class="calendar-nav-btn" id="btnNextMonth">›</button>
                </div>
                <div class="calendar-title" id="calendarTitle">January 2025</div>
              </div>
              
              <!-- Calendar Views -->
              <div class="calendar-view active" id="monthView">
                <!-- Month View will be populated here -->
              </div>
              
              <div class="calendar-view" id="weekView">
                <!-- Week View will be populated here -->
              </div>
              
              <div class="calendar-view" id="dayView">
                <!-- Day View will be populated here -->
              </div>
            </div>
          </div>
          
          <div id="kanbanView" class="view-content">
            <div class="kanban-placeholder">
              <h3>Kanban View</h3>
              <p>SortableJS integration coming in v1.3</p>
            </div>
          </div>
          
          <div id="ganttView" class="view-content">
            <div class="gantt-container">
              <div class="gantt-header">
                <div class="gantt-controls">
                  <button class="btn" id="btnAddGanttTask">Add Task</button>
                  <button class="btn" id="btnExportGanttPDF">Export PDF</button>
                  <button class="btn" id="btnExportGanttExcel">Export Excel</button>
                </div>
              </div>
              <div id="gantt_here" class="gantt-chart"></div>
            </div>
          </div>
        </div>
        
        <div class="task-summary-section">
          <div class="task-summary">
            <h3>Task Summary</h3>
            <div id="taskSummary">
              <!-- Summary will be populated here -->
            </div>
          </div>
        </div>
      </div>
  </div>
</div>

<!-- Task Modal for Professional Editing -->
<div id="taskModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="modalTitle">Add New Task</h2>
      <span class="close">&times;</span>
    </div>
    <div class="modal-body">
      <form id="taskForm">
        <div class="form-row">
          <div class="form-group">
            <label for="taskTitle">Task Title *</label>
            <input type="text" id="taskTitle" name="title" required>
          </div>
          <div class="form-group">
            <label for="taskAssignee">Assignee</label>
            <input type="text" id="taskAssignee" name="assignee">
          </div>
        </div>
        
        <div class="form-group">
          <label for="taskDescription">Description</label>
          <textarea id="taskDescription" name="description" rows="3"></textarea>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="taskStartDate">Start Date *</label>
            <input type="date" id="taskStartDate" name="startDate" required>
          </div>
          <div class="form-group">
            <label for="taskDuration">Duration (Days) *</label>
            <input type="number" id="taskDuration" name="duration" min="1" value="1" required>
          </div>
          <div class="form-group">
            <label for="taskEndDate">End Date *</label>
            <input type="date" id="taskEndDate" name="endDate" required readonly>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="taskStatus">Status</label>
            <select id="taskStatus" name="status">
              <option value="not-started">Not Started</option>
              <option value="in-progress">In Progress</option>
              <option value="completed">Completed</option>
            </select>
          </div>
          <div class="form-group">
            <label for="taskPriority">Priority</label>
            <select id="taskPriority" name="priority">
              <option value="low">Low</option>
              <option value="medium">Medium</option>
              <option value="high">High</option>
              <option value="critical">Critical</option>
            </select>
          </div>
        </div>
        
        <div class="form-group">
          <label for="taskProgress">Progress (%)</label>
          <div class="progress-slider-container">
            <input type="range" id="taskProgress" name="progress" min="0" max="100" value="0" class="progress-slider">
            <span class="progress-value">0%</span>
          </div>
        </div>
        
        <div class="form-group">
          <label for="taskPhase">Construction Phase</label>
          <select id="taskPhase" name="phase">
            <option value="Pre-Construction">Pre-Construction</option>
            <option value="Foundation">Foundation</option>
            <option value="Framing">Framing</option>
            <option value="Mechanical">Mechanical</option>
            <option value="Electrical">Electrical</option>
            <option value="Plumbing">Plumbing</option>
            <option value="Interior">Interior</option>
            <option value="Exterior">Exterior</option>
            <option value="Finishing">Finishing</option>
            <option value="Punch List">Punch List</option>
          </select>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn" id="btnCancel">Cancel</button>
      <button type="button" class="btn btn-primary" id="btnSaveTask">Save Task</button>
    </div>
  </div>
</div>

<script src="https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.js"></script>
<script src="module.js?v=20250101130300"></script>
</body>
</html>
