<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Test List View - PCFP Experimental</title>
    <link rel="stylesheet" href="../../core/theme.css?v=20250101162000">
    <link rel="stylesheet" href="module.css?v=20250101186000">
</head>
<body>
<header class="module-header">
  <div class="module-toolbar">
    <button class="btn" id="btnSave" title="Save data">Save</button>
    <button class="btn" id="btnExportAll" title="Export all items">üì§ Export All</button>
    <button class="btn" id="btnExportHistory" title="View action history">üìã History</button>
    <button class="btn" id="btnKeyboardHelp" title="Show keyboard shortcuts">‚å®Ô∏è Help</button>
  </div>
</header>

<div class="module-container">
  <div class="module-content">
    <div class="test-container" tabindex="0">
      <div class="test-header">
        <div class="view-selector">
          <button class="btn active" data-view="list">List</button>
          <button class="btn" data-view="cards">Cards</button>
        </div>
        
        <!-- Search and Filter Section -->
        <div class="search-filter-container">
          <div class="search-box">
            <input type="text" id="itemSearch" placeholder="Search items..." class="search-input" title="Search by title, description, or category">
            <button class="search-btn" onclick="clearSearch()" title="Clear search">√ó</button>
          </div>
          <select id="filterBy" class="filter-select" title="Filter by category">
            <option value="">All Items</option>
            <option value="category">By Category</option>
            <option value="status">By Status</option>
            <option value="priority">By Priority</option>
            <option value="assignee">By Assignee</option>
          </select>
          <!-- Date Range Selection -->
          <div class="date-range-container">
            <input type="date" id="dateRangeStart" class="date-input" title="Start date">
            <span class="date-separator">to</span>
            <input type="date" id="dateRangeEnd" class="date-input" title="End date">
            <button class="date-range-btn" onclick="applyDateRange()" title="Apply date range">Apply</button>
            <button class="date-range-btn clear" onclick="clearDateRange()" title="Clear date range">Clear</button>
          </div>
        </div>
        
        <div class="test-actions">
          <button class="btn btn-secondary" id="btnUndo" disabled>Undo</button>
          <button class="btn btn-secondary" id="btnRedo" disabled>Redo</button>
          <button class="btn btn-primary" id="btnAddItem">+ Add Item</button>
        </div>
      </div>

          <!-- Mass Action Toolbar -->
    <div id="massActionToolbar" class="mass-action-toolbar">
      <div class="mass-action-left">
        <button id="btnClearSelected" class="mass-action-btn clear-btn">Clear</button>
        <span class="selected-count">0 selected</span>
      </div>
      <div class="mass-action-buttons">
        <button id="btnDeleteSelected" class="mass-action-btn danger">Delete Selected</button>
        <button id="btnDuplicateSelected" class="mass-action-btn">Duplicate Selected</button>
        <button id="btnExportSelected" class="mass-action-btn">Export Selected</button>
        <button id="btnBulkEdit" class="mass-action-btn primary">Bulk Edit</button>
      </div>
    </div>

    <!-- Bulk Edit Toolbar -->
    <div id="bulkEditToolbar" class="bulk-edit-toolbar">
      <div class="bulk-edit-header">
        <h3>Bulk Edit Selected Items</h3>
        <button id="btnCloseBulkEdit" class="close-btn">√ó</button>
      </div>
      <div class="bulk-edit-fields">
        <div class="bulk-edit-field">
          <label for="bulkStatus">Status:</label>
          <select id="bulkStatus" class="bulk-edit-input">
            <option value="">-- No Change --</option>
            <option value="not-started">Not Started</option>
            <option value="in-progress">In Progress</option>
            <option value="completed">Completed</option>
            <option value="on-hold">On Hold</option>
          </select>
        </div>
        <div class="bulk-edit-field">
          <label for="bulkAssignee">Assignee:</label>
          <input type="text" id="bulkAssignee" class="bulk-edit-input" placeholder="Enter assignee name">
        </div>
        <div class="bulk-edit-field">
          <label for="bulkPriority">Priority:</label>
          <select id="bulkPriority" class="bulk-edit-input">
            <option value="">-- No Change --</option>
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
            <option value="urgent">Urgent</option>
          </select>
        </div>
        <div class="bulk-edit-field">
          <label for="bulkStartDate">Start Date:</label>
          <input type="date" id="bulkStartDate" class="bulk-edit-input">
        </div>
        <div class="bulk-edit-field">
          <label for="bulkEndDate">End Date:</label>
          <input type="date" id="bulkEndDate" class="bulk-edit-input">
        </div>
      </div>
      <div class="bulk-edit-actions">
        <button id="btnApplyBulkEdit" class="bulk-edit-btn primary">Apply Changes</button>
        <button id="btnCancelBulkEdit" class="bulk-edit-btn">Cancel</button>
      </div>
    </div>

    <!-- Export Menu Modal -->
    <div id="exportMenuModal" class="export-menu-modal">
      <div class="export-menu-content">
        <div class="export-menu-header">
          <h3 id="exportMenuTitle">Export Items</h3>
          <button id="btnCloseExportMenu" class="close-btn">√ó</button>
        </div>
        <div class="export-menu-body">
          <div class="export-scope-info">
            <p id="exportScopeText">Exporting selected items</p>
          </div>
          <div class="export-format-options">
            <h4>Choose Export Format:</h4>
            <div class="export-format-grid">
              <button class="export-format-btn" data-format="csv">
                <div class="export-format-icon">üìä</div>
                <div class="export-format-name">CSV</div>
                <div class="export-format-desc">Spreadsheet format</div>
              </button>
              <button class="export-format-btn" data-format="excel">
                <div class="export-format-icon">üìà</div>
                <div class="export-format-name">Excel</div>
                <div class="export-format-desc">Excel workbook</div>
              </button>
              <button class="export-format-btn" data-format="pdf">
                <div class="export-format-icon">üìÑ</div>
                <div class="export-format-name">PDF</div>
                <div class="export-format-desc">PDF document</div>
              </button>
              <button class="export-format-btn" data-format="json">
                <div class="export-format-icon">üîß</div>
                <div class="export-format-name">JSON</div>
                <div class="export-format-desc">Data format</div>
              </button>
              <button class="export-format-btn bulk-export-btn" data-format="bulk">
                <div class="export-format-icon">üì¶</div>
                <div class="export-format-name">Bulk Export</div>
                <div class="export-format-desc">Multiple formats</div>
              </button>
            </div>
          </div>
          <div class="export-options">
            <h4>Export Options:</h4>
            <div class="export-option">
              <label>
                <input type="checkbox" id="includeHeaders" checked>
                Include column headers
              </label>
            </div>
            <div class="export-option">
              <label>
                <input type="checkbox" id="includeTimestamps" checked>
                Include timestamps
              </label>
            </div>
          </div>
        </div>
        <div class="export-menu-footer">
          <button id="btnCancelExport" class="export-btn secondary">Cancel</button>
        </div>
      </div>
    </div>
    
    <!-- Export Preview Modal -->
    <div id="exportPreviewModal" class="export-preview-modal">
      <div class="export-preview-content">
        <div class="export-preview-header">
          <h3 id="exportPreviewTitle">Export Preview</h3>
          <button id="btnCloseExportPreview" class="close-btn">√ó</button>
        </div>
        <div class="export-preview-body">
          <div class="export-preview-info">
            <div class="preview-summary">
              <h4>Export Summary</h4>
              <div class="preview-details">
                <div class="preview-detail">
                  <span class="detail-label">Format:</span>
                  <span id="previewFormat" class="detail-value">CSV</span>
                </div>
                <div class="preview-detail">
                  <span class="detail-label">Items:</span>
                  <span id="previewItemCount" class="detail-value">5 items</span>
                </div>
                <div class="preview-detail">
                  <span class="detail-label">Scope:</span>
                  <span id="previewScope" class="detail-value">Selected items</span>
                </div>
                <div class="preview-detail">
                  <span class="detail-label">Options:</span>
                  <span id="previewOptions" class="detail-value">Headers, Timestamps</span>
                </div>
              </div>
            </div>
            <div class="preview-content">
              <h4>Preview Content</h4>
              <div class="preview-text-container">
                <pre id="previewContent" class="preview-text"></pre>
              </div>
            </div>
          </div>
        </div>
        <div class="export-preview-footer">
          <button id="btnCancelPreview" class="export-btn secondary">Cancel</button>
          <button id="btnConfirmExport" class="export-btn primary">Download Export</button>
        </div>
      </div>
    </div>
    
    <!-- Export History Modal -->
    <div id="exportHistoryModal" class="export-history-modal">
      <div class="export-history-content">
        <div class="export-history-header">
          <h3>Action History</h3>
          <button id="btnCloseExportHistory" class="close-btn">√ó</button>
        </div>
        <div class="export-history-body">
          <div class="history-controls">
            <button id="btnClearHistory" class="btn btn-secondary">Clear History</button>
            <span class="history-count">0 actions</span>
          </div>
          <div class="history-list" id="historyList">
            <!-- History items will be populated here -->
          </div>
        </div>
        <div class="export-history-footer">
          <button id="btnCloseHistory" class="export-btn secondary">Close</button>
        </div>
      </div>
    </div>
    
    <!-- Bulk Export Selection Modal -->
    <div id="bulkExportModal" class="bulk-export-modal">
      <div class="bulk-export-content">
        <div class="bulk-export-header">
          <h3>Bulk Export Selection</h3>
          <button id="btnCloseBulkExport" class="close-btn">√ó</button>
        </div>
        <div class="bulk-export-body">
          <div class="bulk-export-info">
            <p id="bulkExportScopeText">Exporting selected items in multiple formats</p>
          </div>
          <div class="bulk-format-selection">
            <h4>Select Export Formats:</h4>
            <div class="bulk-format-grid">
              <label class="bulk-format-option">
                <input type="checkbox" id="bulkCsv" value="csv" checked>
                <div class="bulk-format-card">
                  <div class="bulk-format-icon">üìä</div>
                  <div class="bulk-format-name">CSV</div>
                </div>
              </label>
              <label class="bulk-format-option">
                <input type="checkbox" id="bulkExcel" value="excel" checked>
                <div class="bulk-format-card">
                  <div class="bulk-format-icon">üìà</div>
                  <div class="bulk-format-name">Excel</div>
                </div>
              </label>
              <label class="bulk-format-option">
                <input type="checkbox" id="bulkPdf" value="pdf">
                <div class="bulk-format-card">
                  <div class="bulk-format-icon">üìÑ</div>
                  <div class="bulk-format-name">PDF</div>
                </div>
              </label>
              <label class="bulk-format-option">
                <input type="checkbox" id="bulkJson" value="json">
                <div class="bulk-format-card">
                  <div class="bulk-format-icon">üîß</div>
                  <div class="bulk-format-name">JSON</div>
                </div>
              </label>
            </div>
          </div>
          <div class="bulk-export-options">
            <h4>Export Options:</h4>
            <div class="bulk-export-option">
              <label>
                <input type="checkbox" id="bulkIncludeHeaders" checked>
                Include column headers
              </label>
            </div>
            <div class="bulk-export-option">
              <label>
                <input type="checkbox" id="bulkIncludeTimestamps" checked>
                Include timestamps
              </label>
            </div>
            <div class="bulk-export-option">
              <label>
                <input type="checkbox" id="bulkCompress" checked>
                Compress into ZIP file
              </label>
            </div>
          </div>
        </div>
        <div class="bulk-export-footer">
          <button id="btnCancelBulkExport" class="export-btn secondary">Cancel</button>
          <button id="btnStartBulkExport" class="export-btn primary">Start Bulk Export</button>
        </div>
      </div>
    </div>
      
      <div class="test-content">
        <!-- List View -->
        <div id="listView" class="view-content active">
          <div class="grid-container">
            <div class="data-grid">
              <div class="grid-header">
                <div class="grid-cell checkbox-cell" data-col="checkbox">
                  <input type="checkbox" id="selectAll" title="Select all">
                </div>
                <div class="grid-cell sortable" data-col="title" onclick="handleColumnClick('title')">
                  <span class="col-title">Title</span>
                </div>
                <div class="grid-cell sortable" data-col="description" onclick="handleColumnClick('description')">
                  <span class="col-title">Description</span>
                </div>
                <div class="grid-cell sortable" data-col="category" onclick="handleColumnClick('category')">
                  <span class="col-title">Category</span>
                </div>
                <div class="grid-cell sortable" data-col="status" onclick="handleColumnClick('status')">
                  <span class="col-title">Status</span>
                </div>
                <div class="grid-cell sortable" data-col="priority" onclick="handleColumnClick('priority')">
                  <span class="col-title">Priority</span>
                </div>
                <div class="grid-cell sortable" data-col="assignee" onclick="handleColumnClick('assignee')">
                  <span class="col-title">Assignee</span>
                </div>
                <div class="grid-cell" data-col="actions">
                  <span class="col-title">Actions</span>
                </div>
              </div>
              <div class="grid-body" id="itemsGridBody">
                <!-- Items will be populated here -->
              </div>
            </div>
          </div>
          <!-- Pagination Container -->
          <div id="paginationContainer" class="pagination-container">
            <!-- Pagination controls will be populated here -->
          </div>
        </div>
        
        <!-- Cards View -->
        <div id="cardsView" class="view-content">
          <div class="cards-container" id="cardsContainer">
            <!-- Cards will be populated here -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal for Add/Edit Item -->
<div id="itemModal" class="modal" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="modalTitle">Add Item</h3>
      <button class="close-btn" onclick="closeItemModal()">&times;</button>
    </div>
    <div class="modal-body">
      <form id="itemForm">
        <div class="form-group">
          <label for="titleField">Title *</label>
          <input type="text" id="titleField" required>
        </div>
        <div class="form-group">
          <label for="descriptionField">Description</label>
          <textarea id="descriptionField" rows="4" placeholder="Enter item description..."></textarea>
        </div>
        <div class="form-group">
          <label for="categoryField">Category</label>
          <select id="categoryField">
            <option value="">Select category...</option>
            <option value="Development">Development</option>
            <option value="Design">Design</option>
            <option value="Testing">Testing</option>
            <option value="Documentation">Documentation</option>
            <option value="Maintenance">Maintenance</option>
          </select>
        </div>
        <div class="form-group">
          <label for="statusField">Status</label>
          <select id="statusField">
            <option value="not-started">Not Started</option>
            <option value="in-progress">In Progress</option>
            <option value="completed">Completed</option>
            <option value="on-hold">On Hold</option>
          </select>
        </div>
        <div class="form-group">
          <label for="priorityField">Priority</label>
          <select id="priorityField">
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
            <option value="urgent">Urgent</option>
          </select>
        </div>
        <div class="form-group">
          <label for="assigneeField">Assignee</label>
          <input type="text" id="assigneeField" placeholder="Enter assignee name...">
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" onclick="closeItemModal()">Cancel</button>
      <button type="button" class="btn btn-primary" onclick="document.getElementById('itemForm').dispatchEvent(new Event('submit'))">Save Item</button>
    </div>
  </div>
</div>

<!-- Keyboard Shortcuts Help Modal -->
<div id="keyboardHelpModal" class="modal" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Keyboard Shortcuts</h3>
      <button class="close-btn" onclick="closeKeyboardHelp()">&times;</button>
    </div>
    <div class="modal-body">
      <div class="shortcuts-grid">
        <div class="shortcut-category">
          <h4>Navigation</h4>
          <div class="shortcut-item">
            <kbd>‚Üë</kbd><kbd>‚Üì</kbd><kbd>‚Üê</kbd><kbd>‚Üí</kbd>
            <span>Navigate items and pages</span>
          </div>
          <div class="shortcut-item">
            <kbd>1</kbd><kbd>2</kbd><kbd>3</kbd><kbd>...</kbd><kbd>9</kbd>
            <span>Jump to page number</span>
          </div>
        </div>
        
        <div class="shortcut-category">
          <h4>Selection</h4>
          <div class="shortcut-item">
            <kbd>Ctrl</kbd> + <kbd>A</kbd>
            <span>Select all items</span>
          </div>
          <div class="shortcut-item">
            <kbd>Space</kbd>
            <span>Toggle focused item checkbox</span>
          </div>
        </div>
        
        <div class="shortcut-category">
          <h4>Actions</h4>
          <div class="shortcut-item">
            <kbd>Ctrl</kbd> + <kbd>N</kbd>
            <span>Add new item</span>
          </div>
          <div class="shortcut-item">
            <kbd>Enter</kbd>
            <span>Edit selected item</span>
          </div>
          <div class="shortcut-item">
            <kbd>Delete</kbd>
            <span>Delete selected items</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl</kbd> + <kbd>D</kbd>
            <span>Duplicate selected items</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl</kbd> + <kbd>E</kbd>
            <span>Export selected items</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl</kbd> + <kbd>Z</kbd>
            <span>Undo last action</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl</kbd> + <kbd>Y</kbd> or <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>Z</kbd>
            <span>Redo last undone action</span>
          </div>
        </div>
        
        <div class="shortcut-category">
          <h4>General</h4>
          <div class="shortcut-item">
            <kbd>Esc</kbd>
            <span>Close menus/modals</span>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary" onclick="closeKeyboardHelp()">Got it!</button>
    </div>
  </div>
</div>

<script src="module.js?v=20250101192000"></script>
</body>
</html>
